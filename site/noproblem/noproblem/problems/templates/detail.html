<style type="text/css">
#title {
	color:#8F2250;font-family:Annie Use Your Telescope;
}
#title h1 {
	float: left;
	text-align: left;

}
#title h3 {
	float: right;
	text-align: left;
}

div.spacer {
	clear: both;
}

body {
	/*background: #F0F0F0;*/
	background:white;
	font: 14px Trebuchet MS, Trebuchet, Helvetica, Arial;
	line-height: 130%;
	margin-top: 0px;
    margin-right: 90px;
    margin-bottom: 0px;
    margin-left: 90px; /*márgenes del body respecto al html completo*/
    padding: 10px 10px 50px 10px;/*márgenes del texto dentro del body*/
    border-left:solid 1px;
    border-right:solid 1px;
    border-color:black;  
    border-bottom:none; 
}

#wording{
	/*background: #F0F0F0;*/
    padding: 20px 20px 30px 30px;/*márgenes del texto dentro del body*/
    border-left:solid 1px;
    border-right:solid 1px;
    border-color:black;  
    border-bottom:solid 1px; 
	border-top:solid 1px; 
}

#data,#senddata{
	text-align:center;
}

#alldata {
	text-align: center;
}

#alldata #data{
	text-align: left;
}

</style>

{% load custom_filters %}
{% load scientificfilter %}

<script language="javascript"> 

var startCount = 0;

function showdata() {
	var ele = document.getElementById("data");
	var butt_ini = document.getElementById("muestrabutton");
	var butt_end = document.getElementById("finishedbutton");
	ele.style.display = "block";
	butt_ini.disabled = true;
	butt_end.disabled = false;
	window.startCount = new Date();
} 

function get_time_difference(earlierDate,laterDate)
{
       var nTotalDiff = laterDate.getTime() - earlierDate.getTime();
       var oDiff = new Object();
 
       oDiff.days = Math.floor(nTotalDiff/1000/60/60/24);
       nTotalDiff -= oDiff.days*1000*60*60*24;
 
       oDiff.hours = Math.floor(nTotalDiff/1000/60/60);
       nTotalDiff -= oDiff.hours*1000*60*60;
 
       oDiff.minutes = Math.floor(nTotalDiff/1000/60);
       nTotalDiff -= oDiff.minutes*1000*60;
 
       oDiff.seconds = Math.floor(nTotalDiff/1000);
 
       return oDiff;
 
}

// Function Usage
function use_time_difference()
{
	dateCurrent = new Date();
	oDiff = get_time_difference(window.startCount, dateCurrent);
	alert("It has been " + oDiff.minutes + " minutes " + oDiff.seconds + " seconds since the exercise started.");
}


function onClickCheck() {	
	use_time_difference();
}

function submitForm() {
	dateCurrent = new Date();
	oDiff = get_time_difference(window.startCount, dateCurrent);
	document.solverform.time.value = oDiff.hours + ":" + oDiff.minutes + ":" + oDiff.seconds;
    return true;
}

</script>


<div id="title">
<h1>{{ prob.title }}</h1>
<h3>{{ prob.category }}</h3>
</div>

<div class="spacer">&nbsp;
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
</div>


<div id="wording">
<p>
{{ prob.wording|linebreaksbr }}
</p>
</div>

<div id="datainfo">
<p>
Haz click en el botón "Mostrar datos" para ver los datos del problema. A partir de este momento empezará a contar el tiempo. Una vez solucionado el problema, copia el resultado, pulsa el botón "Enviar resultado" y pega el valor en el campo de texto que aparecerá.<br/> 
</p>
</div>

<div id='alldata'>
<button id='muestrabutton'
		type=button
        onclick="javascript:showdata();">
        Mostrar datos
</button>
<div id='data' style="display: none">
<ul>
{% set data = prob.data %}
{% for d in data %}
<li>{{ d }}</li>
{% endfor %}
</ul>

<div id='senddata'>
<form name="solverform" action="/problems/{{ prob.id }}/send/" method="post">
{% csrf_token %}
Result: <input type="text" name="result"><br>
		<input type="hidden" name="time">
<!--
<p> La solucion es: {{ prob|solve:data|scientificformat }} </p>
 -->
<button id='finishedbutton'
		type="submit"
        onclick="javascript:submitForm();"
        disabled=true>
        Enviar resultado
</button>

</form>

</div>
</div>





