{% extends "base_problems.html" %}

{% block title %}Connecta - NoProblem{% endblock %}

{% block content %} 
{% load custom_filters %}
{% load scientificfilter %}
{% load i18n %}


<br>

<div id="diva">
<div id="cuadroup">
<b>¡Hola {{ user.get_profile.user.username }}! Estos son los detalles de tu cuenta:</b>
</div>
<div id="cuadro">
<div>
Tienes un total de <span id="num">{{ user.get_profile.credits }}</span> creditos.<br/>
En este momento tenemos disponibles un total de <span id="num">{{ nprob }}</span> problemas.<br />
Has intentado resolver <span id="num">{{ num_resueltos }}</span> problemas, de los cuales
has resuelto correctamente <span id="num">{{ num_resueltos_ok }}</span>.<br />
<br/>
Aquí tienes tus envíos de resultados:
<div id="solvedproblemlist" class="problemlist">

{% if sprob_list_list %}
	<ul>
	{% for s_list in sprob_list_list %}
		{% if s_list %}
			{% with s_list.0.prob as problem %}
				<li> <a href={% url problems:detail problem.id %}>Problem {{ problem.title }}</a>
				({% blocktrans count s_list|length as counter %} {{ counter }} send
				{% plural %} {{ counter }} sends {% endblocktrans %}  )
			{% endwith %}
			<ul>
			{% for solve in s_list %}
				<li>
				{% blocktrans with solve.date as date and solve.time as time %}
				at {{ date }} and solved in {{ time }} time.
				{% endblocktrans %}
				{% if solve.is_correct %}
					<span class="resok">{% trans "correct!" %}</span>
				{% else %}
					<span class="resfail">{% trans "failed!" %}</span>
				{% endif %}
				</li>
			{% endfor %}
			</ul>
			</li>
		{% endif %}
	{% endfor %}
	</ul>
{% else %}
	Aún no has enviado ningún resultado
{% endif %}
</div>

Estos son los próximos a realizar:
<div id="tosolveproblemlist" class="problemlist">
	<ul>
	{% for prob in prob_cansolve %}
		<li id='cansolve'> <a href={% url problems:detail prob.id %}>Problem {{ prob.title }}</a> </li>
	{% endfor %}
	{% for prob in prob_nextsolve %}
		<li id='cantsolve'> Problem {{ prob.title }} </li>
	{% endfor %}
	</ul>
</div>


</div>


</div>
</div>

<div id="divb">
</div>

<div id="divc">
</div>


<div class="spacer">
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
</div>

<!-- Contexto:
					  'num_resueltos': n_solved_total,
					  'num_resueltos_ok': n_solved_total_ok,
					  'prob_list': all_problems,
					  'tasa_acierto_por_problema': n_solved_pct_ok,
					  'tasa_acierto_global': n_pct_ok,
					  'nprob': n_problems,
                      'sprob_list_list': solved_list_by_problem,
                      -->


{% endblock %}





