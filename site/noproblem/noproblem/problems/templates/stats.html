{% extends "base.html" %}

{% block title %}Connecta - NoProblem{% endblock %}

{% block content %}

{% load i18n %}

<style type="text/css">
#title {
	color:#8F2250;font-family:Annie Use Your Telescope;
}
#title h1 {
	float: left;
	text-align: left;

}
#title h3 {
	float: right;
	text-align: left;
}

#title h4 {
	clear:both;
	text-align: left;
}

div.spacer {
	clear: both;
}

body {
	/*background: #F0F0F0;*/
	background:white;
	font: 14px Trebuchet MS, Trebuchet, Helvetica, Arial;
	line-height: 130%;
	margin-top: 0px;
    margin-right: 90px;
    margin-bottom: 0px;
    margin-left: 90px; /*márgenes del body respecto al html completo*/
    padding: 10px 10px 50px 10px;/*márgenes del texto dentro del body*/
    border-left:solid 1px;
    border-right:solid 1px;
    border-color:black;  
    border-bottom:none; 
}

#wording{
	/*background: #F0F0F0;*/
    padding: 20px 20px 30px 30px;/*márgenes del texto dentro del body*/
    border-left:solid 1px;
    border-right:solid 1px;
    border-color:black;  
    border-bottom:solid 1px; 
	border-top:solid 1px; 
}

#data,#senddata{
	text-align:center;
}

#alldata {
	text-align: center;
}

#alldata #data{
	text-align: left;
}

#wording ul {
	position: relative;
	background-color: #CCC;
	list-style-type: circle;
	margin: 10%;
	padding: 5%;
	float: none;
}


#wording ul li .user {
	color:#8F2250
}

#wording ul li .resok {
	color: #009900
}

#wording ul li .resfail {
	color: #CC0000
}

#piechart {
	text-align:center;	
}
</style>



{% load custom_filters %}


<div id="title">
<h1>{% blocktrans with prob.title as title %}
Statistics for {{ title }}
{% endblocktrans %}</h1>
<h3>{{ prob.category }}</h3>
<h4>@{% now "jS F Y H:i:s" %}</h4>
</div>

<div class="spacer">
</div>

<div id="wording">

{% if solves_list %}

	<!-- Imprimo numero de veces solucionado -->
	{% blocktrans count solves_list|length as counter with prob.title as title %}
	Problem {{ title }} has been solved just once.
	{% plural %}
	Problem {{ title }} has been solved {{ counter }} times already.
	{% endblocktrans %} 
	<br />
	
	<!-- Tiempo medio de resolucion del problema -->
	{% blocktrans %}
	Average time for solving this problem is {{ avg_time }}
	{% endblocktrans %}
	<br />
    
    <!-- Grafica porcentaje de correctos/incorrectos -->
    <div id="piechart">
    <img src='{{ chart_url }}' alt="Solves chart"/>
    </div>

	<!-- Lista de usuarios que lo han solucionado -->
    <ul>
    {% for res in solves_list %}
        <li><span class="user">{{ res.user }}</span>
        {% blocktrans with res.date as date and res.time as time %}
        at {{ date }} and solved in {{ time }} time.
        {% endblocktrans %}
        {% if res.is_correct %}
        	<span class="resok">{% trans "correct!" %}</span>
        {% else %}
			<span class="resfail">{% trans "failed!" %}</span>
		{% endif %}
	</li>
    {% endfor %}
    </ul>
    
    <!-- Cálculo de porcentajes de solución -->
    
    
{% else %}
  <p>
  {% trans "No results are available." %}
  {% blocktrans with prob.title as title %}
  Problem {{ title }} still hasn't been solved
  {% endblocktrans %}
  </p>
{% endif %}

</div>

{% endblock %}